<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiempos de Procesamiento StAG §5</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="text/javascript" src="bva_data.js"></script>
    <style>
        body {

            font-family: Arial, sans-serif;
            display: block;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #f9f9f9;

            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }
   
        select {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
            width: 100%;
            margin-bottom: 20px;
        }
        .box-container {
            display: flex;
            align-items: center;
            padding: 5px;
        }
        .label {
            font-size: 22px;
            font-weight: bold;
            flex: 1;
            text-align: left;
        }
        .box {
            background: #fff;
            color: #333;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-size: 22px;
            font-weight: bold;
            flex: 0 0 40%;
            text-align: center;
        }


canvas {
             width: 100% !important;
            height: auto !important;
            max-width: 600px;
            margin: auto;
        }

    </style>


 <style>

	button {
  background: none!important;
  border: none;
  padding: 0!important;

	padding: 10px;
            text-decoration: none;
            color:  #afafac;
            transition: transform 0.3s ease-in-out, color 0.3s ease-in-out;
            font-size: 18px;
}

        .nav {
            position: fixed;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 150px;
        }
        .nav a {
            display: block;
            padding: 10px;
            text-decoration: none;
            color:  #afafac;
            transition: transform 0.3s ease-in-out, color 0.3s ease-in-out;
            font-size: 18px;
           /* font-weight: 400; */
        }
        .nav a:hover {
             /*transform: scale(1.1);*/
          color: #007BFF;
        }
        .nav a.active {
            color: #007BFF;
            text-decoration: underline;
            /*transform: scale(1.1);*/
             /* font-weight: 700; */
        }
        .content {
            margin-left: 10%;
            
            width: 90%;
            text-align: center;
        }
        .section {
           /*  height: 100vh;
            background: grey;
            margin-bottom: 50px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;*/

text-align: center;
    background: white;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    width: 80%;
    margin: 10px auto; /* Adds spacing between containers */
	margin-bottom: 50px;
    display: block; /* Ensures containers stack vertically */

        }
        html {
            scroll-behavior: smooth;
        }


@media (max-width: 768px) {
            .nav {
               
                width: auto;
            }
            .nav a {
                writing-mode: vertical-rl;
                transform: rotate(180deg);
                padding-bottom: 30px;
		padding-left: 5px;
            }
    </style>
</head>
<body>

	<div style="text-align: right; padding: 10px; background: #ffffff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 1000;">
    <a href="https://german-citizenship.github.io/es" style="margin: 0 10px; color: #007BFF; text-decoration: none;">Español</a>
    <a href="https://german-citizenship.github.io/" style="margin: 0 10px; color: #007BFF; text-decoration: none;">English</a>
    <a href="https://german-citizenship.github.io/de" style="margin: 0 10px; color: #007BFF; text-decoration: none;">Deutsch</a>
</div>

  <div class="nav">
        <a href="#introduction">Introducción</a>
        <a href="#calculate">Calculadora de tiempo</a>
        <a href="#graph">Gráficas</a>
        <a href="#rawdata">Datos brutos</a>
    </div>
    
    <div class="content">

<div id="introduction" class="section">
<h2>Introducción</h2>
<p> Esta página web es un pequeño proyecto que ilustra los tiempos de espera extremos que enfrentan los solicitantes al BVA en la vía de ciudadanía conforme al §5 StAG, diseñado para restaurar la ciudadanía no transmitida por padres debido a leyes discriminatorias anticonstitucionales vigentes después de 1945. </br></br> Hice una solicitud de acceso a la información al BVA y recibí datos de cada mes desde agosto de 2021 hasta diciembre de 2024, tanto del número de solicitudes presentadas como del número procesado. Sobre esta base, calculé la velocidad promedio de procesamiento del BVA en 2024 y extrapolé los tiempos de procesamiento futuros, asumiendo que la velocidad y el número de solicitudes se mantienen constantes. </br> Los resultados son escandalosos. Una persona que presenta su solicitud hoy (agosto 2025) esperaría 125 meses, hasta enero de 2036. Si presenta justo antes de que la ley expire en agosto de 2031, esperaría 349 meses, hasta 2060. Que este problema esté empeorando y que el gobierno federal y el BVA no asignen recursos proporcionales es un escándalo. Los empleados del BVA, por supuesto, no tienen la culpa y tienen una carga de trabajo excesiva. </br> He realizado otra solicitud de acceso a la información para incluir hasta mayo de 2025, pero aún no he recibido respuesta. </br></br> A continuación, puedes introducir la fecha en que el BVA te asignó un Aktenzeichen y ver, con base en esta extrapolación, cuándo podrías esperar recibir tu resultado. Puedes revisar las gráficas que muestran el número real y proyectado de solicitudes presentadas, procesadas y la acumulación total. Al final encontrarás los datos brutos proporcionados por el BVA, incluyendo los números aceptados, rechazados y transferidos a otro departamento (incluidos bajo el término "procesadas" en mi clasificación). </br> </br> Si estás en Alemania, por favor escribe a tu MdB y llama la atención sobre este asunto. </p>
</div>

<div id="calculate" class="section">
    <h2>Selecciona una fecha</h2>
    <div class="box-container">
        <div style="width: 5%"></div>
        <select id="dateSelector"></select>
        <div style="width: 5%"></div>
    </div>
    <div class="box-container">
        <div style="width: 5%"></div>
        <span class="label">Tiempo total de procesamiento:</span>
        <div class="box" id="monthsBox">--</div>
        <div style="width: 5%"></div>
    </div>
    <div class="box-container">
        <div style="width: 5%"></div>
        <span class="label">Fecha estimada de finalización:</span>
        <div class="box" id="nextDateBox">--</div>
        <div style="width: 5%"></div>
    </div>
</div>




    <script>
        
        
        const selector = document.getElementById("dateSelector");
        const monthsBox = document.getElementById("monthsBox");
        const nextDateBox = document.getElementById("nextDateBox");
        
        data.forEach(entry => {
          if (entry.new_applications_allowed == "Y") {
            let option = document.createElement("option");
            option.value = entry.date;
            option.textContent = entry.date;
            selector.appendChild(option);
            }
        });
        
        function animateCount(element, start, end, duration, suffix = "") {
            let startTime = null;
            function step(timestamp) {
                if (!startTime) startTime = timestamp;
                let progress = Math.min((timestamp - startTime) / duration, 1);
                element.textContent = Math.floor(progress * (end - start) + start) + suffix;
                if (progress < 1) requestAnimationFrame(step);
            }
            requestAnimationFrame(step);
        }
        
        function animateDate(element, startDate, endDate, duration) {
            let months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            let [startMonth, startYear] = startDate.split(" ");
            let [endMonth, endYear] = endDate.split(" ");
            
            let startIdx = months.indexOf(startMonth) + (parseInt(startYear) * 12);
            let endIdx = months.indexOf(endMonth) + (parseInt(endYear) * 12);
            
            let startTime = null;
            function step(timestamp) {
                if (!startTime) startTime = timestamp;
                let progress = Math.min((timestamp - startTime) / duration, 1);
                let currentIdx = Math.floor(progress * (endIdx - startIdx) + startIdx);
                let currentYear = Math.floor(currentIdx / 12);
                let currentMonth = months[currentIdx % 12];
                element.textContent = currentMonth + " " + currentYear;
                if (progress < 1) requestAnimationFrame(step);
            }
            requestAnimationFrame(step);
        }
        
        selector.addEventListener("change", function() {
            const selectedData = data.find(d => d.date === this.value);
            animateCount(monthsBox, 0, selectedData.months_to_process, 1000, " Months");
            animateDate(nextDateBox, selectedData.date, selectedData.nextDate, 1500);
        });
    </script>

<div id="graph" class="section">
    <h2>Procesamiento de solicitudes en el tiempo</h2>
    <canvas id="applicationsChart"></canvas>
    <canvas id="totalRemainingChart"></canvas>
    <canvas id="totalMonthsChart"></canvas>
</div>


   

</div>

    <script>
        const rawData = data

        let showAllData = false;

        function filterData(showAll) {
            return rawData;
		    //rawData.filter(entry => showAll || entry.data_type === "historical");
        }

        function updateCharts(showAll) {
            const filteredData = filterData(showAll);
            
            applicationsChart.data.labels = filteredData.map(entry => entry.date);
            applicationsChart.data.datasets[0].data = filteredData.map(entry => entry.total_placed);
            applicationsChart.data.datasets[1].data = filteredData.map(entry => entry.total_processed);
            applicationsChart.update();
            
            totalRemainingChart.data.labels = filteredData.map(entry => entry.date);
            totalRemainingChart.data.datasets[0].data = filteredData.map(entry => entry.total_remaining);
            totalRemainingChart.update();
            
            totalMonthsChart.data.labels = filteredData.map(entry => entry.date);
            totalMonthsChart.data.datasets[0].data = filteredData.map(entry => entry.months_to_process);
            totalMonthsChart.update();
        }

        

 const ctx1 = document.getElementById("applicationsChart").getContext("2d");
        const ctx2 = document.getElementById("totalRemainingChart").getContext("2d");
        const ctx3 = document.getElementById("totalMonthsChart").getContext("2d");

         const applicationsChart = new Chart(ctx1, {
        type: "line",
        data: {
            labels: [],
            datasets: [
                {
                    label: "Total Presentadas",
                    data: [],
                    borderColor: "blue",
                    borderWidth: 2,
                    fill: false
                },
                {
                    label: "Total Procesadas",
                    data: [],
                    borderColor: "green",
                    borderWidth: 2,
                    fill: false
                }
            ]
        },
        options: {
            responsive: true,
            plugins: {
                tooltip: {
                    callbacks: {
                        afterBody: (tooltipItems) => {
                            let index = tooltipItems[0].dataIndex;
                            return [
                                "Nuevas solicitudes permitidas: " + rawData[index].new_applications_allowed,
                                "Tipo de datos: " + rawData[index].data_type,
                                "Solicitudes pendientes: " + rawData[index].total_remaining
                            ];
                        }
                    }
                }
            }
        }
    });

    const totalRemainingChart = new Chart(ctx2, {
        type: "line",
        data: {
            labels: [],
            datasets: [{
                label: "Acumulación total",
                data: [],
                borderColor: "blue",
                borderWidth: 2,
                fill: false
            }]
        },
        options: { responsive: true }
    });

    const totalMonthsChart = new Chart(ctx3, {
        type: "line",
        data: {
            labels: [],
            datasets: [{
                label: "Meses requeridos para solicitudes presentadas en esta fecha",
                data: [],
                borderColor: "green",
                borderWidth: 2,
                fill: false
            }]
        },
        options: { responsive: true }
    });

 

        updateCharts(showAllData);
	

	var ShowPredictedDataToggle = "True";
	const buttony = document.getElementById("togglebutton");

        function toggleData() {

		if (ShowPredictedDataToggle == "True") {
		buttony.classList.remove("active");
		ShowPredictedDataToggle = False;
		};

		if (ShowPredictedDataToggle == "False") {
		buttony.classList.add("active");
		ShowPredictedDataToggle = True;
		};

            	showAllData = !showAllData;
            updateCharts(showAllData);
        }
    </script>

  <script>
        document.addEventListener("DOMContentLoaded", () => {
            const links = document.querySelectorAll(".nav a");
            const sections = document.querySelectorAll(".section");
            let scrollingByClick = false;

            links.forEach(link => {
                link.addEventListener("click", function(event) {
                    scrollingByClick = true;
                    links.forEach(l => l.classList.remove("active"));
                    this.classList.add("active");
                    setTimeout(() => scrollingByClick = false, 1000); // Delay reset
                });
            });

            function updateActiveLink() {
                if (scrollingByClick) return;
                let index = sections.length;
                while (--index && window.scrollY + 50 < sections[index].offsetTop) {}
                links.forEach(link => link.classList.remove("active"));
                links[index].classList.add("active");
            }

            window.addEventListener("scroll", updateActiveLink);
        });
    </script>

<
<div id="rawdata" class="section">
<h2>Datos brutos</h2>
<a href="https://fragdenstaat.de/anfrage/anfrage-zur-bearbeitungsdauer-von-antraegen-auf-staatsangehoerigkeit-gemaess-ss-5-stag/"> Número de solicitudes presentadas </a>
</br>
<a href="https://fragdenstaat.de/anfrage/austellung-von-urkunden-nach-ss5-stag/"> Número de solicitudes procesadas </a>
</br>
<a href="https://fragdenstaat.de/anfrage/anfrage-zur-bearbeitungsdauer-von-antraegen-auf-staatsangehoerigkeit-gemaess-ss-5-stag-1/"> Mi solicitud de acceso a la información aún no respondida para la actualización de 2025 </a>
</br></br>
<p> Para consultas de prensa, preguntas o actualizaciones, por favor contáctame en german.citizenship@gmx.com</p>
</div>

</div>
</body>
</html>
